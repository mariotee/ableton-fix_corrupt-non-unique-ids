(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[0],[,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_algs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10);__webpack_exports__.a=function(){var reader,_React$useState=react__WEBPACK_IMPORTED_MODULE_5___default.a.useState([]),_React$useState2=Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_React$useState,2),resultList=_React$useState2[0],setResultList=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_5___default.a.useState(),_React$useState4=Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_React$useState3,2),stateFile=_React$useState4[0],setStateFile=_React$useState4[1],_React$useState5=react__WEBPACK_IMPORTED_MODULE_5___default.a.useState(!1),_React$useState6=Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_React$useState5,2),processing=_React$useState6[0],setProcessing=_React$useState6[1],_React$useState7=react__WEBPACK_IMPORTED_MODULE_5___default.a.useState(""),_React$useState8=Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_React$useState7,2),outputJson=_React$useState8[0],setOutputJson=_React$useState8[1],readFile=function(){setStateFile(reader.result)},loadFile=function(e){(reader=new FileReader).onloadend=readFile,reader.readAsText(e)},processFile=function(){var _ref=Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(){var parsed,list,res,paths,i,_iterator,_step,path,query,thing;return C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:setProcessing(!0),parsed=JSON.parse(stateFile),list=[],res=_algs__WEBPACK_IMPORTED_MODULE_6__.a(parsed.Ableton,"Ableton",0,list),setResultList(Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(res)),paths=res.map((function(e){return e.path})),i=0,_iterator=Object(C_Users_Work_PC_Documents_GitHub_corrupt_ableton_fix_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(paths);try{for(_iterator.s();!(_step=_iterator.n()).done;)path=_step.value,query="parsed",query+=path.split(".").map((function(e){if(/\[\d+\]$/gim.test(e)){var _=e.split("[");return"['".concat(_[0],"'][").concat(_[1])}return"['".concat(e,"']")})).join(""),thing="if(".concat(query,") {            \n                ").concat(query,' = "').concat(9999999+i++,'"\n            }'),eval(thing)}catch(err){_iterator.e(err)}finally{_iterator.f()}setOutputJson(JSON.stringify(parsed)),setProcessing(!1);case 11:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}();return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h1",null,"Ableton Corrupted Ids Fix"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p",null,"To get started using this tool, you will need to do some tasks beforehand"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ol",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,'Make a copy of .als file and rename it, appending ".zip" to the end'),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,"Unzip the new .zip file to get an uncompressed ALS file"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,"This is actually an XML file now, so upload the XML to ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{href:"https://www.convertjson.com/xml-to-json.htm"},"this site here")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,"This will convert to a JSON file; download it and upload here"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,'Click "Get New JSON" to get the text for the new JSON with duplicate keys renamed'),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,"Copy/Paste the new JSON text to ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{href:"https://www.convertjson.com/json-to-xml.htm"},"this sibling site")," to get XML back"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,"Be patient as it may take a long time to copy/paste long text"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,'Download result as XML, and then rename to ".als"; it should open in Ableton'),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",null,"DISCLAIMER: this project is still being optimised. I am not liable for any damage done to your original file. This is why step 1 is absolutely crucial. You should still send your file to Ableton support to see if they can fix it. They will definitely do a much better job than this tool.")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,"Import your project JSON"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{type:"file",onChange:function(e){return loadFile(e.target.files[0])}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{onClick:processFile},"Get New JSON"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section",null,processing?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,"Processing..."):null),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("textarea",{readOnly:!0,rows:24,cols:80,value:outputJson}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,"PATH"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,"VALUE"))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("tbody",null,resultList.map((function(e,_){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("tr",{key:"tr"+_},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,e.path),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("td",null,e.val))}))))))}},,,function(e,_,t){"use strict";function a(e){return e.match(/id$/i)}function r(e){for(var _=0,t=Object.keys(e);_<t.length;_++){if(e[t[_]]instanceof Object)return!1}return!0}function n(e,_,t,l){var o;if((o=e)instanceof Object&&!(o instanceof Array))for(var s=[],u=0,c=Object.keys(e);u<c.length;u++){var i=c[u],E=_+"."+i;s.includes(e[i])&&a(i)?l.push({path:E,val:e[i]}):s.push(e[i]),n(e[i],E,t+1,l)}else if(function(e){return e instanceof Object&&e instanceof Array}(e)){var d=[];for(var p in e){var m=e[p];if(r(m))for(var b=0,O=Object.keys(m);b<O.length;b++){var P=O[b],D=_+"[".concat(p,"].").concat(P);d.includes(m[P])&&a(P)?l.push({path:D,val:m[P]}):d.push(m[P])}else n(e[p],"".concat(_,"[").concat(p,"]"),t+1,l)}}return l}t.d(_,"a",(function(){return n}))},,function(e,_,t){e.exports=t(20)},,,,,function(e,_,t){},function(e,_,t){},,function(e,_,t){"use strict";t.r(_);var a=t(0),r=t.n(a),n=t(6),l=t.n(n),o=(t(17),t(18),t(7));var s=function(){return r.a.createElement(o.a,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.26e3c52e.chunk.js.map